(function(t,e,r,n){function i(n){if(!r[n]){if(!e[n]){if(t)return t(n);throw Error("Cannot find module '"+n+"'")}var o=r[n]={exports:{}};e[n][0](function(t){var r=e[n][1][t];return i(r?r:t)},o,o.exports)}return r[n].exports}for(var o=0;n.length>o;o++)i(n[o]);return i})("undefined"!=typeof require&&require,{1:[function(t,e){var r=e.exports;t("events").EventEmitter;var n=t("./lib/request");r.request=function(t,e){t||(t={}),t.host||(t.host=window.location.host.split(":")[0]),t.port||(t.port=window.location.port);var r=new n(new i,t);return e&&r.on("response",e),r},r.get=function(t,e){t.method="GET";var n=r.request(t,e);return n.end(),n},r.Agent=function(){},r.Agent.defaultMaxSockets=4;var i=function(){if("undefined"==typeof window)throw Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var t=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],e=0;t.length>e;e++)try{var r=new window.ActiveXObject(t[e]);return function(){if(r){var n=r;return r=null,n}return new window.ActiveXObject(t[e])}}catch(n){}throw Error("ajax not supported in this browser")}throw Error("ajax not supported in this browser")}()},{events:2,"./lib/request":3}],4:[function(t,e){var r=e.exports={};r.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var r=[];return window.addEventListener("message",function(t){if(t.source===window&&"process-tick"===t.data&&(t.stopPropagation(),r.length>0)){var e=r.shift();e()}},!0),function(t){r.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.binding=function(){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw Error("process.chdir is not supported")}},{}],2:[function(t,e,r){(function(t){function e(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0;t.length>r;r++)if(e===t[r])return r;return-1}t.EventEmitter||(t.EventEmitter=function(){});var n=r.EventEmitter=t.EventEmitter,i="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=10;n.prototype.setMaxListeners=function(t){this._events||(this._events={}),this._events.maxListeners=t},n.prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||i(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var r=Array.prototype.slice.call(arguments,1);e.apply(this,r)}return!0}if(i(e)){for(var r=Array.prototype.slice.call(arguments,1),n=e.slice(),o=0,s=n.length;s>o;o++)n[o].apply(this,r);return!0}return!1},n.prototype.addListener=function(t,e){if("function"!=typeof e)throw Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",t,e),this._events[t])if(i(this._events[t])){if(!this._events[t].warned){var r;r=void 0!==this._events.maxListeners?this._events.maxListeners:o,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}this._events[t].push(e)}else this._events[t]=[this._events[t],e];else this._events[t]=e;return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){var r=this;return r.on(t,function n(){r.removeListener(t,n),e.apply(this,arguments)}),this},n.prototype.removeListener=function(t,r){if("function"!=typeof r)throw Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var n=this._events[t];if(i(n)){var o=e(n,r);if(0>o)return this;n.splice(o,1),0==n.length&&delete this._events[t]}else this._events[t]===r&&delete this._events[t];return this},n.prototype.removeAllListeners=function(t){return 0===arguments.length?(this._events={},this):(t&&this._events&&this._events[t]&&(this._events[t]=null),this)},n.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),i(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]}})(t("__browserify_process"))},{__browserify_process:4}],5:[function(t,e){t("http"),t("sphericalmercator"),function(){function t(){}e!==void 0&&(e.exports=t),"undefined"!=typeof window&&(window.gpsTile=t)}()},{http:1,sphericalmercator:6}],7:[function(t,e){function r(){n.EventEmitter.call(this)}var n=t("events"),i=t("util");i.inherits(r,n.EventEmitter),e.exports=r,r.Stream=r,r.prototype.pipe=function(t,e){function r(e){t.writable&&!1===t.write(e)&&c.pause&&c.pause()}function n(){c.readable&&c.resume&&c.resume()}function i(){u||(u=!0,t._pipeCount--,a(),t._pipeCount>0||t.end())}function o(){u||(u=!0,t._pipeCount--,a(),t._pipeCount>0||t.destroy())}function s(t){if(a(),0===this.listeners("error").length)throw t}function a(){c.removeListener("data",r),t.removeListener("drain",n),c.removeListener("end",i),c.removeListener("close",o),c.removeListener("error",s),t.removeListener("error",s),c.removeListener("end",a),c.removeListener("close",a),t.removeListener("end",a),t.removeListener("close",a)}var c=this;c.on("data",r),t.on("drain",n),t._isStdio||e&&e.end===!1||(t._pipeCount=t._pipeCount||0,t._pipeCount++,c.on("end",i),c.on("close",o));var u=!1;return c.on("error",s),t.on("error",s),c.on("end",a),c.on("close",a),t.on("end",a),t.on("close",a),t.emit("pipe",c),t}},{events:2,util:8}],6:[function(t,e,r){var n=function(){function t(t){if(t=t||{},this.size=t.size||256,!e[this.size]){var r=this.size,n=e[this.size]={};n.Bc=[],n.Cc=[],n.zc=[],n.Ac=[];for(var i=0;30>i;i++)n.Bc.push(r/360),n.Cc.push(r/(2*Math.PI)),n.zc.push(r/2),n.Ac.push(r),r*=2}this.Bc=e[this.size].Bc,this.Cc=e[this.size].Cc,this.zc=e[this.size].zc,this.Ac=e[this.size].Ac}var e={},r=Math.PI/180,n=180/Math.PI,i=6378137,o=20037508.34;return t.prototype.px=function(t,e){var n=this.zc[e],i=Math.min(Math.max(Math.sin(r*t[1]),-.9999),.9999),o=Math.round(n+t[0]*this.Bc[e]),s=Math.round(n+.5*Math.log((1+i)/(1-i))*-this.Cc[e]);return o>this.Ac[e]&&(o=this.Ac[e]),s>this.Ac[e]&&(s=this.Ac[e]),[o,s]},t.prototype.ll=function(t,e){var r=(t[1]-this.zc[e])/-this.Cc[e],i=(t[0]-this.zc[e])/this.Bc[e],o=n*(2*Math.atan(Math.exp(r))-.5*Math.PI);return[i,o]},t.prototype.bbox=function(t,e,r,n,i){n&&(e=Math.pow(2,r)-1-e);var o=[t*this.size,(+e+1)*this.size],s=[(+t+1)*this.size,e*this.size],a=this.ll(o,r).concat(this.ll(s,r));return"900913"===i?this.convert(a,"900913"):a},t.prototype.xyz=function(t,e,r,n){"900913"===n&&(t=this.convert(t,"WGS84"));var i=[t[0],t[1]],o=[t[2],t[3]],s=this.px(i,e),a=this.px(o,e),c={minX:Math.floor(s[0]/this.size),minY:Math.floor(a[1]/this.size),maxX:Math.floor((a[0]-1)/this.size),maxY:Math.floor((s[1]-1)/this.size)};if(r){var u={minY:Math.pow(2,e)-1-c.maxY,maxY:Math.pow(2,e)-1-c.minY};c.minY=u.minY,c.maxY=u.maxY}return c},t.prototype.convert=function(t,e){return"900913"===e?this.forward(t.slice(0,2)).concat(this.forward(t.slice(2,4))):this.inverse(t.slice(0,2)).concat(this.inverse(t.slice(2,4)))},t.prototype.forward=function(t){var e=[i*t[0]*r,i*Math.log(Math.tan(.25*Math.PI+.5*t[1]*r))];return e[0]>o&&(e[0]=o),-o>e[0]&&(e[0]=-o),e[1]>o&&(e[1]=o),-o>e[1]&&(e[1]=-o),e},t.prototype.inverse=function(t){return[t[0]*n/i,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/i)))*n]},t}();e!==void 0&&r!==void 0&&(e.exports=r=n)},{}],9:[function(t,e){function r(t){for(var e=t.getAllResponseHeaders().split(/\r?\n/),r={},n=0;e.length>n;n++){var i=e[n];if(""!==i){var o=i.match(/^([^:]+):\s*(.*)/);if(o){var a=o[1].toLowerCase(),c=o[2];void 0!==r[a]?s(r[a])?r[a].push(c):r[a]=[r[a],c]:r[a]=c}else r[i]=!0}}return r}var n=t("stream"),i=e.exports=function(){this.offset=0,this.readable=!0};i.prototype=new n;var o={streaming:!0,status2:!0};i.prototype.getResponse=function(t){var e=(t.responseType+"").toLowerCase();return"blob"===e?t.responseBlob:"arraybuffer"===e?t.response:t.responseText},i.prototype.getHeader=function(t){return this.headers[t.toLowerCase()]},i.prototype.handle=function(t){if(2===t.readyState&&o.status2){try{this.statusCode=t.status,this.headers=r(t)}catch(e){o.status2=!1}o.status2&&this.emit("ready")}else if(o.streaming&&3===t.readyState){try{this.statusCode||(this.statusCode=t.status,this.headers=r(t),this.emit("ready"))}catch(e){}try{this._emitData(t)}catch(e){o.streaming=!1}}else 4===t.readyState&&(this.statusCode||(this.statusCode=t.status,this.emit("ready")),this._emitData(t),t.error?this.emit("error",this.getResponse(t)):this.emit("end"),this.emit("close"))},i.prototype._emitData=function(t){var e=this.getResponse(t);return(""+e).match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(e,this.offset)),this.offset=e.byteLength,void 0):(e.length>this.offset&&(this.emit("data",e.slice(this.offset)),this.offset=e.length),void 0)};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{stream:7}],8:[function(t,e,r){function n(t){return t instanceof Array||Array.isArray(t)||t&&t!==Object.prototype&&n(t.__proto__)}function i(t){return t instanceof RegExp||"object"==typeof t&&"[object RegExp]"===Object.prototype.toString.call(t)}function o(t){if(t instanceof Date)return!0;if("object"!=typeof t)return!1;var e=Date.prototype&&a(Date.prototype),r=t.__proto__&&a(t.__proto__);return JSON.stringify(r)===JSON.stringify(e)}t("events"),r.isArray=n,r.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},r.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},r.print=function(){},r.puts=function(){},r.debug=function(){},r.inspect=function(t,e,c,u){function h(t,c){if(t&&"function"==typeof t.inspect&&t!==r&&(!t.constructor||t.constructor.prototype!==t))return t.inspect(c);switch(typeof t){case"undefined":return p("undefined","undefined");case"string":var u="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return p(u,"string");case"number":return p(""+t,"number");case"boolean":return p(""+t,"boolean")}if(null===t)return p("null","null");var l=s(t),d=e?a(t):l;if("function"==typeof t&&0===d.length){if(i(t))return p(""+t,"regexp");var v=t.name?": "+t.name:"";return p("[Function"+v+"]","special")}if(o(t)&&0===d.length)return p(t.toUTCString(),"date");var y,m,g;if(n(t)?(m="Array",g=["[","]"]):(m="Object",g=["{","}"]),"function"==typeof t){var w=t.name?": "+t.name:"";y=i(t)?" "+t:" [Function"+w+"]"}else y="";if(o(t)&&(y=" "+t.toUTCString()),0===d.length)return g[0]+y+g[1];if(0>c)return i(t)?p(""+t,"regexp"):p("[Object]","special");f.push(t);var _=d.map(function(e){var r,i;if(t.__lookupGetter__&&(t.__lookupGetter__(e)?i=t.__lookupSetter__(e)?p("[Getter/Setter]","special"):p("[Getter]","special"):t.__lookupSetter__(e)&&(i=p("[Setter]","special"))),0>l.indexOf(e)&&(r="["+e+"]"),i||(0>f.indexOf(t[e])?(i=null===c?h(t[e]):h(t[e],c-1),i.indexOf("\n")>-1&&(i=n(t)?i.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+i.split("\n").map(function(t){return"   "+t}).join("\n"))):i=p("[Circular]","special")),r===void 0){if("Array"===m&&e.match(/^\d+$/))return i;r=JSON.stringify(""+e),r.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=p(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=p(r,"string"))}return r+": "+i});f.pop();var b=0,x=_.reduce(function(t,e){return b++,e.indexOf("\n")>=0&&b++,t+e.length+1},0);return _=x>50?g[0]+(""===y?"":y+"\n ")+" "+_.join(",\n  ")+" "+g[1]:g[0]+y+" "+_.join(", ")+" "+g[1]}var f=[],p=function(t,e){var r={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[e];return n?"["+r[n][0]+"m"+t+"["+r[n][1]+"m":t};return u||(p=function(t){return t}),h(t,c===void 0?2:c)},r.log=function(){},r.pump=null;var s=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},a=Object.getOwnPropertyNames||function(t){var e=[];for(var r in t)Object.hasOwnProperty.call(t,r)&&e.push(r);return e},c=Object.create||function(t,e){var r;if(null===t)r={__proto__:null};else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var n=function(){};n.prototype=t,r=new n,r.__proto__=t}return e!==void 0&&Object.defineProperties&&Object.defineProperties(r,e),r};r.inherits=function(t,e){t.super_=e,t.prototype=c(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})};var u=/%[sdj%]/g;r.format=function(t){if("string"!=typeof t){for(var e=[],n=0;arguments.length>n;n++)e.push(r.inspect(arguments[n]));return e.join(" ")}for(var n=1,i=arguments,o=i.length,s=(t+"").replace(u,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return i[n++]+"";case"%d":return Number(i[n++]);case"%j":return JSON.stringify(i[n++]);default:return t}}),a=i[n];o>n;a=i[++n])s+=null===a||"object"!=typeof a?" "+a:" "+r.inspect(a);return s}},{events:2}],3:[function(t,e){var r=t("stream"),n=t("./response"),i=t("concat-stream"),o=e.exports=function(t,e){var r=this;r.writable=!0,r.xhr=t,r.body=i();var o=e.host+":"+e.port+(e.path||"/");if(t.open(e.method||"GET",(e.scheme||"http")+"://"+o,!0),e.headers)for(var c=s(e.headers),u=0;c.length>u;u++){var h=c[u];if(!r.isSafeRequestHeader(h))return;var f=e.headers[h];if(a(f))for(var p=0;f.length>p;p++)t.setRequestHeader(h,f[p]);else t.setRequestHeader(h,f)}var l=new n;l.on("close",function(){r.emit("close")}),l.on("ready",function(){r.emit("response",l)}),t.onreadystatechange=function(){l.handle(t)}};o.prototype=new r,o.prototype.setHeader=function(t,e){if(a(e))for(var r=0;e.length>r;r++)this.xhr.setRequestHeader(t,e[r]);else this.xhr.setRequestHeader(t,e)},o.prototype.write=function(t){this.body.write(t)},o.prototype.destroy=function(){this.xhr.abort(),this.emit("close")},o.prototype.end=function(t){void 0!==t&&this.body.write(t),this.body.end(),this.xhr.send(this.body.getBody())},o.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],o.prototype.isSafeRequestHeader=function(t){return t?-1===c(o.unsafeHeaders,t.toLowerCase()):!1};var s=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},c=function(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0;t.length>r;r++)if(t[r]===e)return r;return-1}},{stream:7,"./response":9,"concat-stream":10}],10:[function(t,e){function r(t){n.Stream.call(this),this.writable=!0,t&&(this.cb=t),this.body=[],this.cb&&this.on("error",t)}var n=t("stream"),i=t("util");i.inherits(r,n.Stream),r.prototype.write=function(t){this.body.push(t)},r.prototype.arrayConcat=function(t){return 0===t.length?[]:1===t.length?t[0]:t.reduce(function(t,e){return t.concat(e)})},r.prototype.isArray=function(t){var e=Array.isArray(t),r=(""+t).match(/Array/);return e||r},r.prototype.getBody=function(){return 0!==this.body.length?"string"==typeof this.body[0]?this.body.join(""):this.isArray(this.body[0])?this.arrayConcat(this.body):"undefined"!=typeof Buffer&&Buffer.isBuffer(this.body[0])?Buffer.concat(this.body):this.body:void 0},r.prototype.end=function(){this.cb&&this.cb(!1,this.getBody())},e.exports=function(t){return new r(t)},e.exports.ConcatStream=r},{stream:7,util:8}]},{},[5]);